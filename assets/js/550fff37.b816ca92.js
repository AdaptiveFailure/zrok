"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[765],{3905:(e,r,t)=>{t.d(r,{Zo:()=>d,kt:()=>m});var n=t(7294);function i(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function a(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function s(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?a(Object(t),!0).forEach((function(r){i(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function o(e,r){if(null==e)return{};var t,n,i=function(e,r){if(null==e)return{};var t,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(i[t]=e[t]);return i}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var c=n.createContext({}),l=function(e){var r=n.useContext(c),t=r;return e&&(t="function"==typeof e?e(r):s(s({},r),e)),t},d=function(e){var r=l(e.components);return n.createElement(c.Provider,{value:r},e.children)},p="mdxType",u={inlineCode:"code",wrapper:function(e){var r=e.children;return n.createElement(n.Fragment,{},r)}},v=n.forwardRef((function(e,r){var t=e.components,i=e.mdxType,a=e.originalType,c=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),p=l(t),v=i,m=p["".concat(c,".").concat(v)]||p[v]||u[v]||a;return t?n.createElement(m,s(s({ref:r},d),{},{components:t})):n.createElement(m,s({ref:r},d))}));function m(e,r){var t=arguments,i=r&&r.mdxType;if("string"==typeof e||i){var a=t.length,s=new Array(a);s[0]=v;var o={};for(var c in r)hasOwnProperty.call(r,c)&&(o[c]=r[c]);o.originalType=e,o[p]="string"==typeof e?e:i,s[1]=o;for(var l=2;l<a;l++)s[l]=t[l];return n.createElement.apply(null,s)}return n.createElement.apply(null,t)}v.displayName="MDXCreateElement"},2007:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>c,contentTitle:()=>s,default:()=>p,frontMatter:()=>a,metadata:()=>o,toc:()=>l});var n=t(7462),i=(t(7294),t(3905));const a={},s="Reserved Services",o={unversionedId:"sharing/reserved_services",id:"sharing/reserved_services",title:"Reserved Services",description:'With v0.3, zrok introduced a concept of "reserving" services. The intention is that the zrok control plane will support limits on the number of reserved services (and eventually frontendinstances) that an account is allowed to utilize. Service reservations could also be time-limited, or possibly even bandwidth-limited (the reservation expires after a bandwidth threshold is crossed).',source:"@site/../docs/sharing/reserved_services.md",sourceDirName:"sharing",slug:"/sharing/reserved_services",permalink:"/docs/sharing/reserved_services",draft:!1,editUrl:"https://github.com/openziti/zrok/tree/main/../docs/sharing/reserved_services.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Sharing",permalink:"/docs/category/sharing"},next:{title:"Public/Private Sharing",permalink:"/docs/sharing/sharing_modes"}},c={},l=[{value:"Reserved Services Example",id:"reserved-services-example",level:2}],d={toc:l};function p(e){let{components:r,...t}=e;return(0,i.kt)("wrapper",(0,n.Z)({},d,t,{components:r,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"reserved-services"},"Reserved Services"),(0,i.kt)("p",null,"With v0.3, ",(0,i.kt)("inlineCode",{parentName:"p"},"zrok"),' introduced a concept of "reserving" services. The intention is that the ',(0,i.kt)("inlineCode",{parentName:"p"},"zrok")," control plane will support limits on the number of reserved services (and eventually ",(0,i.kt)("inlineCode",{parentName:"p"},"frontend"),"instances) that an account is allowed to utilize. Service reservations could also be time-limited, or possibly even bandwidth-limited (the reservation expires after a bandwidth threshold is crossed)."),(0,i.kt)("h2",{id:"reserved-services-example"},"Reserved Services Example"),(0,i.kt)("p",null,"With v0.3 ",(0,i.kt)("inlineCode",{parentName:"p"},"zrok")," introduced the ",(0,i.kt)("inlineCode",{parentName:"p"},"zrok reserve")," command:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"$ zrok reserve private http://localhost:9090\n[   0.047]    INFO main.(*reserveCommand).run: your reserved service token is 'x88xujrpk4k3'\n[   0.048]    INFO main.(*reserveCommand).run: your reserved service frontend is 'http://x88xujrpk4k3.zrok.quigley.com:8080/'\n")),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"reserve")," command creates a service reservation that allows a service to become non-ephemeral. The service token ",(0,i.kt)("inlineCode",{parentName:"p"},"x88xujrpk4k3")," is guaranteed to exist between ",(0,i.kt)("inlineCode",{parentName:"p"},"backend")," executions."),(0,i.kt)("p",null,"Running a ",(0,i.kt)("inlineCode",{parentName:"p"},"backend")," against a service reservation is done like this:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"$ zrok share reserved x88xujrpk4k3\n[   0.005]    INFO main.(*shareReservedCommand).run: sharing target endpoint: 'http://localhost:9090'\n[   0.040]    INFO main.(*shareReservedCommand).run: use this command to access your zrok service: 'zrok access private x88xujrpk4k3'\n^C\n$ zrok share reserved x88xujrpk4k3\n[   0.007]    INFO main.(*shareReservedCommand).run: sharing target endpoint: 'http://localhost:9090'\n[   0.047]    INFO main.(*shareReservedCommand).run: use this command to access your zrok service: 'zrok access private x88xujrpk4k3'\n")),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"share reserved")," comand starts a backend process for the service. User-facing and public-facing ",(0,i.kt)("inlineCode",{parentName:"p"},"frontend")," instances are allowed to come and go, just as if the service were ephemeral."),(0,i.kt)("p",null,"Releasing a reserved service is done with the ",(0,i.kt)("inlineCode",{parentName:"p"},"zrok release")," command:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"$ zrok release x88xujrpk4k3\n[   0.056]    INFO main.(*releaseCommand).run: reserved service 'x88xujrpk4k3' released\n")))}p.isMDXComponent=!0}}]);